<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="template/sub :: common_header(~{::title},~{::link})">
    <title>회원가입</title>
    <link href="/css/checkout.css" rel="stylesheet">
</head>

<body th:replace="template/notDefaultHeader :: common_bodyNotHeader(~{::main},'bg-body-tertiary')">
<main class="container">
    <div class="py-5 text-center">
        <a th:href="@{/}">
            <img class="d-block mx-auto mb-4" src="https://getbootstrap.kr/docs/5.3/assets/brand/bootstrap-logo.svg"
                 alt="" width="72"
                 height="57">
        </a>
        <h2>회원가입</h2>
    </div>
    <div class="row g-5 justify-content-center">
        <div class="col-md-7 col-lg-8 ">
            <form class="needs-validation" th:object="${member}" method="post" action="/userJoin">
                <div class="row g-3">
                    <div class="col-12">
                        <label for="username" class="form-label" th:text="#{label.member.username}">이름</label>
                        <input type="text" class="form-control" th:field="*{username}" id="username" th:errorclass="field-error">
                        <div class="field-error" th:errors="*{username}"></div>

                    </div>

                    <div class="col-12">
                        <label for="nickname" class="form-label" th:text="#{label.member.nickname}">별명</label>
                        <input type="text" class="form-control" th:field="*{nickname}" id="nickname" th:errorclass="field-error">
                        <div class="field-error" th:errors="*{nickname}"></div>
                    </div>

                    <div class="col-12">
                        <label for="email" class="form-label" th:text="#{label.member.email}">아이디</label>
                        <input type="email" class="form-control" th:field="*{email}" id="email" th:errorclass="field-error">
                        <div class="field-error" th:errors="*{email}"></div>
                    </div>

                    <div class="col-12">
                        <label for="password" class="form-label" th:text="#{label.member.password}">비밀번호</label>
                        <input type="password" class="form-control" th:field="*{password}" id="password" th:errorclass="field-error">
                        <div class="field-error" th:errors="*{password}"></div>
                    </div>

                    <div class="col-12">
                        <label for="email" class="form-label" th:text="#{label.member.type}">호칭</label>
                        <br>
                        <div th:each="type : ${memberTypes}" class="form-check form-check-inline">
                            <!-- th:value은 반환 값이므로 값이 th:field에 담긴 후 memberType가 matching된다.     th:field는 th:value와 매칭시킬 필드명                       -->
                            <input type="radio" th:field="*{memberType}" th:value="${type.name()}"
                                   class="form-check-input" th:errorclass="field-error">
                            <label th:for="${#ids.prev('memberType')}" th:text="${type.description}"
                                   class="form-check-label"></label>
                        </div>
                        <div class="field-error" th:errors="*{memberType}"></div>
                    </div>
                    <div class="col-12">
                        <label for="address" class="form-label" th:text="#{label.member.address}">주소</label>
                        <input type="text" class="form-control" th:field="*{address}" id="address" th:errorclass="field-error">
                        <div class="field-error" th:errors="*{address}"></div>
                    </div>
                </div>
                <hr class="my-4">
                <button class="w-100 btn btn-primary btn-lg" type="submit" th:text="#{button.join}">완료</button>
            </form>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
        crossorigin="anonymous"></script>
</body>
</html>